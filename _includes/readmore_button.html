<a id="read-more-trigger-{{ include.id }}" 
   class="read-more-btn"
   href="#"
   onclick="return false;">
  (Full List)
</a>

<script>
document.addEventListener("DOMContentLoaded", function () {
  const sectionId = '{{ include.id }}';
  const triggerId = 'read-more-trigger-' + sectionId;

  const list = document.getElementById(sectionId);
  if (!list || list.tagName !== 'UL') return;

  const items = list.querySelectorAll('li');
  if (!items.length) return;

  const threshold = {{ include.threshold | default: 5 }};

  items.forEach((li, idx) => {
    if (idx >= threshold) li.style.display = 'none';
  });

  const trigger = document.getElementById(triggerId);
  trigger?.addEventListener('click', () => {
    items.forEach(li => li.style.display = 'list-item');
    trigger.style.display = 'none';
  });
});
</script>
